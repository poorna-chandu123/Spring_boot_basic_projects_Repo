spring.application.name=KAFKA_SpringFunction
server.port=8078

# --- Functions exposed in the function catalog / web ---
# uppercaseFunction is kept so you can call it via HTTP (Postman).
# riderSupplier, riderMultiple_topic and riderMultiple_topics are also registered.
spring.cloud.function.definition=uppercaseFunction;riderSupplier;riderMultiple_topic;riderMultiple_topics
spring.cloud.function.web.path=/uppercaseFunction

# --- Which functions are bound to the stream binder (Kafka) ---
# Only include the Supplier beans you want bound to Kafka.
# (Do NOT include uppercaseFunction here if it's an HTTP Function only.)
# E tag comment chesina code work avuthundi
spring.cloud.stream.function.definition=riderSupplier;riderMultiple_topic;riderMultiple_topics

# --- Kafka broker ---
spring.cloud.stream.kafka.binder.brokers=localhost:9092

# --- Poller (auto-invoke Suppliers) ---
spring.cloud.stream.poller.fixed-delay=1000
# spring.cloud.stream.poller.max-messages-per-poll=1

# --- Bindings ---
# riderSupplier -> Rider-topic (JSON payload)
spring.cloud.stream.bindings.riderSupplier-out-0.destination=Rider-topic
spring.cloud.stream.bindings.riderSupplier-out-0.content-type=application/json

# riderMultiple_topic -> Rider-topic (plain text)
spring.cloud.stream.bindings.riderMultiple_topic-out-0.destination=Rider-topic
spring.cloud.stream.bindings.riderMultiple_topic-out-0.content-type=text/plain

# riderMultiple_topics -> Rider-topic-new (plain text, includes headers/key)
spring.cloud.stream.bindings.riderMultiple_topics-out-0.destination=Rider-topic-new
spring.cloud.stream.bindings.riderMultiple_topics-out-0.content-type=text/plain
